(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"04e1":function(t,e,n){"use strict";n("a2c8")},"16c0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],ref:"homeContainer",staticClass:"home-container",on:{wheel:t.handleWheel}},[n("ul",{ref:"container",staticClass:"carousel-container",style:{marginTop:t.marginTop},on:{transitionend:t.handleTransitionEnd}},t._l(t.data,(function(t){return n("li",{key:t.id,staticClass:"carousel-item"},[n("CarouselItem",{attrs:{carousel:t}})],1)})),0),t.currentIndex>0?n("div",{staticClass:"icon icon-up",on:{click:function(e){t.currentIndex--}}},[n("Icon",{attrs:{className:"upArrow"}})],1):t._e(),t.currentIndex<t.data.length-1?n("div",{staticClass:"icon icon-down",on:{click:function(e){t.currentIndex++}}},[n("Icon",{attrs:{className:"downArrow"}})],1):t._e(),n("ul",{staticClass:"indicators"},t._l(t.data,(function(e,i){return n("li",{key:e.id,class:{active:t.currentIndex===i},on:{click:function(e){t.currentIndex=i}}})})),0)])},r=[],o=n("1da1"),s=n("5530"),a=(n("96cf"),n("c8ac"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],ref:"homeContainer",staticClass:"carousel-item-container",on:{mousemove:t.handleMousemove,mouseleave:t.center}},[n("div",{ref:"container",staticClass:"carousel-img"},[n("ImageLoader",{attrs:{imgSrc:t.carousel.bigImg,placeholder:t.carousel.midImg,duration:2e3},on:{load:t.handleLoad}})],1),n("h1",{ref:"title",class:{showWords:t.showWords}},[t._v(t._s(t.carousel.title))]),n("h2",{ref:"description",class:{showWords:t.showWords}},[t._v(t._s(t.carousel.description))])])}),c=[],d=(n("a4d3"),n("e01a"),n("99af"),n("f76b")),l={props:["carousel"],components:{ImageLoader:d["a"]},data:function(){return{showWords:!1,titleWidth:0,descpWidth:0,isLoading:!0,mouseX:0,mouseY:0}},methods:{handleLoad:function(){this.isLoading=!1,this.showMessage()},showMessage:function(){this.$refs.title.style.opacity=1,this.$refs.title.style.width="0px",this.$refs.description.style.opacity=1,this.$refs.description.style.width="0px",this.$refs.title.clientWidth,this.$refs.title.style.width=this.titleWidth+"px",this.$refs.description.style.width=this.descpWidth+"px"},center:function(){var t=this.$refs.homeContainer,e=t.getBoundingClientRect(),n=e.left+e.width/2,i=e.top+e.height/2;this.mouseX=n,this.mouseY=i,this.setPosition()},handleMousemove:function(t){this.mouseX=t.clientX,this.mouseY=t.clientY,this.setPosition()},setPosition:function(){var t=this.$refs.homeContainer,e=this.$refs.container,n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=i.left,o=i.width,s=t.clientWidth,a=n.width,c=i.top,d=i.height,l=t.clientHeight,u=n.height,h=-(this.mouseX-r)/o*(a-s),f=-(this.mouseY-c)/d*(u-l);e.style.transform="translate(".concat(h,"px,").concat(f,"px)")}},mounted:function(){console.log("mounted"),this.titleWidth=this.$refs.title.clientWidth,this.descpWidth=this.$refs.description.clientWidth,this.center(),window.addEventListener("resize",this.center)},updated:function(){},destroyed:function(){window.removeEventListener("resize",this.center)}},u=l,h=(n("7fdc"),n("2877")),f=Object(h["a"])(u,a,c,!1,null,"2c5481e7",null),g=f.exports,p=n("cdae"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{staticClass:"loading-container",attrs:{src:t.loadingUrl}})},v=[],w=n("4045"),b=n.n(w),y={data:function(){return{loadingUrl:b.a}}},I=y,x=(n("9455"),Object(h["a"])(I,m,v,!1,null,"0b1ab134",null)),O=x.exports,S=n("5880"),C={components:{CarouselItem:g,Icon:p["a"],Loading:O},directives:{},data:function(){return{currentIndex:0,containerHeight:0,isSwitching:!1,count:0}},computed:Object(s["a"])({marginTop:function(){return-this.currentIndex*this.containerHeight+"px"}},Object(S["mapState"])("banner",["isLoading","data"])),methods:{handleClick:function(){this.count++,console.log("count: "+this.count)},handleWheel:function(t){this.isSwitching||(t.deltaY<-5&&this.currentIndex>0&&(this.isSwitching=!0,this.currentIndex--),t.deltaY>5&&this.currentIndex<this.data.length-1&&(this.isSwitching=!0,this.currentIndex++))},handleTransitionEnd:function(t){"margin-top"===t.propertyName&&(console.log(" 页面切换结束 transitionend"),this.isSwitching=!1)},handleResize:function(){this.containerHeight=this.$refs.container.clientHeight}},beforeCreate:function(){},created:function(){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:store.dispatch("banner/getBanners");case 1:case"end":return t.stop()}}),t)})))()},beforeMount:function(){},mounted:function(){this.containerHeight=this.$refs.container.clientHeight,window.addEventListener("resize",this.handleResize)},updated:function(){console.log("updated")},destroyed:function(){console.log("destroyed"),window.removeEventListener("resize",this.handleResize)}},E=C,N=(n("8f8d"),Object(h["a"])(E,i,r,!1,null,"a902d12e",null));e["default"]=N.exports},"1e03":function(t,e,n){},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var i=n("ade3");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("1d80"),r=n("5899"),o="["+r+"]",s=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),c=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,n){var i=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var o,s;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&r(t,s),t}},"7fdc":function(t,e,n){"use strict";n("a209")},8861:function(t,e,n){},"8f8d":function(t,e,n){"use strict";n("1e03")},9455:function(t,e,n){"use strict";n("8861")},a209:function(t,e,n){},a2c8:function(t,e,n){},a9e3:function(t,e,n){"use strict";var i=n("83ab"),r=n("da84"),o=n("94ca"),s=n("6eeb"),a=n("5135"),c=n("c6b6"),d=n("7156"),l=n("c04e"),u=n("d039"),h=n("7c73"),f=n("241c").f,g=n("06cf").f,p=n("9bf2").f,m=n("58a8").trim,v="Number",w=r[v],b=w.prototype,y=c(h(b))==v,I=function(t){var e,n,i,r,o,s,a,c,d=l(t,!1);if("string"==typeof d&&d.length>2)if(d=m(d),e=d.charCodeAt(0),43===e||45===e){if(n=d.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+d}for(o=d.slice(2),s=o.length,a=0;a<s;a++)if(c=o.charCodeAt(a),c<48||c>r)return NaN;return parseInt(o,i)}return+d};if(o(v,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var x,O=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof O&&(y?u((function(){b.valueOf.call(n)})):c(n)!=v)?d(new w(I(e)),n,O):I(e)},S=i?f(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;S.length>C;C++)a(w,x=S[C])&&!a(O,x)&&p(O,x,g(w,x));O.prototype=b,b.constructor=O,s(r,v,O)}},dbb4:function(t,e,n){var i=n("23e7"),r=n("83ab"),o=n("56ef"),s=n("fc6a"),a=n("06cf"),c=n("8418");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,n,i=s(t),r=a.f,d=o(i),l={},u=0;while(d.length>u)n=r(i,e=d[u++]),void 0!==n&&c(l,e,n);return l}})},e439:function(t,e,n){var i=n("23e7"),r=n("d039"),o=n("fc6a"),s=n("06cf").f,a=n("83ab"),c=r((function(){s(1)})),d=!a||c;i({target:"Object",stat:!0,forced:d,sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},f76b:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"imageLoader-container",attrs:{ostyle:t.imageLoaderStyle}},[t.displayFlag?n("img",{staticClass:"mask ",attrs:{src:t.placeholder,oclass:{classOpacity:t.flag},oheight:t.imgHeight,owidth:t.imgWidth,ostyle:t.imgStyle},on:{otransitionend:t.removeSelf}}):t._e(),n("img",{class:{classOpacity:!t.flag},style:t.imgStyle,attrs:{src:t.imgSrc,oheight:t.imgHeight,owidth:t.imgWidth},on:{load:t.loadHandler}})])},r=[],o=(n("a9e3"),{props:{imgSrc:{type:String,required:!0},placeholder:{type:String,required:!0},duration:{type:Number,default:500}},data:function(){return{imgHeight:300,imgWidth:500,flag:!1,displayFlag:!0}},computed:{imgStyle:function(){return{transition:"opacity  ".concat(this.duration,"ms")}},imageLoaderStyle:function(){return{width:this.imgWidth+"px",height:this.imgHeight+"px"}}},methods:{loadHandler:function(){var t=this;console.log(" 原图加载完成 loadHandler called "),this.flag=!0,setTimeout((function(){t.removeSelf(),t.$emit("load")}),this.duration)},removeSelf:function(){this.displayFlag=!1}}}),s=o,a=(n("04e1"),n("2877")),c=Object(a["a"])(s,i,r,!1,null,"ddb62414",null);e["a"]=c.exports}}]);